"use strict";exports.id=440,exports.ids=[440],exports.modules={1602:(e,t,s)=>{s.d(t,{E:()=>r});let r=new class{constructor(e="http://localhost:5000/api"){this.baseURL=e}getAuthToken(){return null}async makeRequest(e,t={}){try{let s=`${this.baseURL}${e}`,r={"Content-Type":"application/json"},a=this.getAuthToken();a&&(r.Authorization=`Bearer ${a}`);let o=await fetch(s,{...t,mode:"cors",credentials:"omit",headers:{...r,...t.headers}}),n=await o.json();if(!o.ok)throw Error(n.message||"API request failed");return n}catch(t){throw console.error(`API Error for ${e}:`,t),t}}async login(e){return this.makeRequest("/auth/login",{method:"POST",body:JSON.stringify(e)})}async logout(){return this.makeRequest("/auth/logout",{method:"POST"})}async refreshToken(){return this.makeRequest("/auth/refresh",{method:"POST"})}async getCurrentUser(){return this.makeRequest("/account/profile")}async updateProfile(e){let t={firstName:e.firstName,lastName:e.lastName,phoneNumber:e.phone};return this.makeRequest("/account/profile",{method:"PUT",body:JSON.stringify(t)})}async changePassword(e){return this.makeRequest("/account/password",{method:"PUT",body:JSON.stringify(e)})}async getUserActivity(){return this.makeRequest("/users/me/activity")}async getAllUsers(e){let t=new URLSearchParams;return e?.page&&t.append("page",e.page.toString()),e?.pageSize&&t.append("pageSize",e.pageSize.toString()),e?.role&&t.append("role",e.role),e?.searchTerm&&t.append("searchTerm",e.searchTerm),this.makeRequest(`/users?${t.toString()}`)}async getUserById(e){return this.makeRequest(`/users/${e}`)}async createUser(e){return this.makeRequest("/users",{method:"POST",body:JSON.stringify(e)})}async updateUser(e,t){return this.makeRequest(`/users/${e}`,{method:"PUT",body:JSON.stringify({id:e,...t})})}async deleteUser(e){return this.makeRequest(`/users/${e}`,{method:"DELETE"})}async assignRole(e,t){return this.makeRequest(`/users/${e}/roles`,{method:"POST",body:JSON.stringify({userId:e,roleName:t})})}async removeRole(e,t){return this.makeRequest(`/users/${e}/roles/${t}`,{method:"DELETE"})}async getSystemStats(){return this.makeRequest("/system/stats")}}},4440:(e,t,s)=>{s.d(t,{t:()=>o});var r=s(9715),a=s(1602);let o=(0,r.Ue)((e,t)=>({user:null,token:null,isAuthenticated:!1,setUser:t=>e({user:t,isAuthenticated:!0}),loadUserFromStorage:()=>{},login:async t=>{try{let s=await a.E.login(t);if(s.success){let{user:t,accessToken:r}=s,a={...t,role:t.roles?.[0]||"Member"};e({user:a,token:r,isAuthenticated:!0})}else throw Error(s.message||"Login failed")}catch(e){throw console.error("Login error:",e),e}},logout:async()=>{try{await a.E.logout()}catch(e){}e({user:null,token:null,isAuthenticated:!1})}}))}};